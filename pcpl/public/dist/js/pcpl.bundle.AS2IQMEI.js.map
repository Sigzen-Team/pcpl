{
  "version": 3,
  "sources": ["../../../../../apps/pcpl/pcpl/public/js/trial_balance_for_party.js"],
  "sourcesContent": ["// Copyright (c) 2013, Frappe Technologies Pvt. Ltd. and contributors\n// For license information, please see license.txt\n\nfrappe.query_reports[\"Trial Balance for Party\"] = {\n\t\"filters\": [\n\t\t{\n\t\t\t\"fieldname\": \"company\",\n\t\t\t\"label\": __(\"Company\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"Company\",\n\t\t\t\"default\": frappe.defaults.get_user_default(\"Company\"),\n\t\t\t\"reqd\": 1\n\t\t},\n\t\t{\n\t\t\t\"fieldname\": \"fiscal_year\",\n\t\t\t\"label\": __(\"Fiscal Year\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"Fiscal Year\",\n\t\t\t\"default\": frappe.defaults.get_user_default(\"fiscal_year\"),\n\t\t\t\"reqd\": 1,\n\t\t\t\"on_change\": function(query_report) {\n\t\t\t\tvar fiscal_year = query_report.get_values().fiscal_year;\n\t\t\t\tif (!fiscal_year) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfrappe.model.with_doc(\"Fiscal Year\", fiscal_year, function(r) {\n\t\t\t\t\tvar fy = frappe.model.get_doc(\"Fiscal Year\", fiscal_year);\n\t\t\t\t\tfrappe.query_report.set_filter_value({\n\t\t\t\t\t\tfrom_date: fy.year_start_date,\n\t\t\t\t\t\tto_date: fy.year_end_date\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"fieldname\": \"from_date\",\n\t\t\t\"label\": __(\"From Date\"),\n\t\t\t\"fieldtype\": \"Date\",\n\t\t\t\"default\": frappe.defaults.get_user_default(\"year_start_date\"),\n\t\t},\n\t\t{\n\t\t\t\"fieldname\": \"to_date\",\n\t\t\t\"label\": __(\"To Date\"),\n\t\t\t\"fieldtype\": \"Date\",\n\t\t\t\"default\": frappe.defaults.get_user_default(\"year_end_date\"),\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"party_type\",\n\t\t\t\"label\": __(\"Party Type\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"Party Type\",\n\t\t\t\"default\": \"Customer\",\n\t\t\t\"reqd\": 1,\n\t\t\ton_change : () => {\n\t\t\t\tlet filter_based_on = frappe.query_report.get_filter_value('party_type');\n\t\t\t\tfrappe.query_report.toggle_filter_display('customer', filter_based_on === 'Supplier');\n\t\t\t\tfrappe.query_report.toggle_filter_display('customer_group', filter_based_on === 'Supplier');\n\t\t\t\tfrappe.query_report.toggle_filter_display('supplier', filter_based_on === 'Customer');\n\t\t\t\tfrappe.query_report.toggle_filter_display('supplier_group', filter_based_on === 'Customer');\n\t\t\t\tfrappe.query_report.set_filter_value('customer', null);\n\t\t\t\tfrappe.query_report.set_filter_value('supplier', null);\n\t\t\t\tfrappe.query_report.set_filter_value('customer_group', null);\n\t\t\t\tfrappe.query_report.set_filter_value('supplier_group', null);\n\t\t\t\tfrappe.query_report.refresh();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"customer_group\",\n\t\t\t\"label\": __(\"Customer Group\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"Customer Group\",\n\t\t\ton_change : () => {\n\t\t\t\tfrappe.query_report.refresh();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"supplier_group\",\n\t\t\t\"label\": __(\"Supplier Group\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"Supplier Group\",\n\t\t\t\"hidden\": 1,\n\t\t\ton_change : () => {\n\t\t\t\tfrappe.query_report.refresh();\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"fieldname\":\"party\",\n\t\t\t\"label\": __(\"Party\"),\n\t\t\t\"fieldtype\": \"Dynamic Link\",\n\t\t\t\"get_options\": function() {\n\t\t\t\tvar party_type = frappe.query_report.get_filter_value('party_type');\n\t\t\t\tvar party = frappe.query_report.get_filter_value('party');\n\t\t\t\tif(party && !party_type) {\n\t\t\t\t\tfrappe.throw(__(\"Please select Party Type first\"));\n\t\t\t\t}\n\t\t\t\treturn party_type;\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"fieldname\": \"account\",\n\t\t\t\"label\": __(\"Account\"),\n\t\t\t\"fieldtype\": \"Link\",\n\t\t\t\"options\": \"Account\",\n\t\t\t\"get_query\": function() {\n\t\t\t\tvar company = frappe.query_report.get_filter_value('company');\n\t\t\t\treturn {\n\t\t\t\t\t\"doctype\": \"Account\",\n\t\t\t\t\t\"filters\": {\n\t\t\t\t\t\t\"company\": company,\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"fieldname\": \"show_zero_values\",\n\t\t\t\"label\": __(\"Show zero values\"),\n\t\t\t\"fieldtype\": \"Check\"\n\t\t}\n\t]\n}\nfrappe.provide(\"finbyzerp\")\nfinbyzerp.view_party_ledger_report = {\n    view_party_ledger_report: function(company, from_date, to_date, account, party_type, party){\n\t\twindow.open(window.location.href.split('app')[0] + \"app/query-report/Party Ledger\" + \"/?\" + \"company=\" + company + \"&\" +  \"from_date=\"+ from_date + \"&\" + \"to_date=\" +to_date + \"&\"+\"account=\"+encodeURIComponent(account)+\"&\"+\"party_type=\"+party_type + \"&\" +\"party=\"+encodeURIComponent(party),\"_blank\")\n\n    }\n}"],
  "mappings": "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",
  "names": ["query_report", "fiscal_year", "r", "fy", "filter_based_on", "party_type", "party", "company", "from_date", "to_date", "account"]
}
